const OFFLINE_VERSION=2;const CACHE_NAME="ts_cache";const URLS_TO_CACHE=['/assets/images/logo.png',];self.addEventListener("install",(event)=>{event.waitUntil((async()=>{const cache=await caches.open(CACHE_NAME+'_v'+OFFLINE_VERSION);await cache.addAll(URLS_TO_CACHE);})());self.skipWaiting();});self.addEventListener("activate",(event)=>{event.waitUntil((async()=>{if("navigationPreload"in self.registration){await self.registration.navigationPreload.enable();}
caches.keys().then(function(cacheNames){return Promise.all(cacheNames.map(function(cacheName){if(CACHE_NAME+'_v'+OFFLINE_VERSION!==cacheName&&cacheName.startsWith('ts_cache')){console.log('SW: updated cache version');return caches.delete(cacheName);}}));})})());self.clients.claim();});self.addEventListener('fetch',(e)=>{if(e.request.url.startsWith('https://pagead'))return;if(e.request.url.startsWith('https://www.googletag'))return;if(e.request.url.startsWith('https://video-serve'))return;if(e.request.url.startsWith('https://o413355.ingest.sentry.io'))return;e.respondWith((async()=>{const r=await caches.match(e.request);if(r){return r;}
const response=await fetch(e.request);return response;})());});